# 注意:本文件夹内程序用于评价cartographer的精度,主要包含两个程序:

1. cartographer_autogenerate_ground_truth: 

This program semi-automatically generates ground truth data from a
pose graph proto.

The input should contain a single trajectory and should have been
manually assessed to be correctly loop closed. Small local distortions
are acceptable if they are tiny compared to the errors we want to
assess using the generated ground truth data.

All loop closure constraints separated by long covered distance are
included in the output. Outliers are removed.


  Flags from /home/whu/Documents/ros/cartographer/catkin_ws/src/cartographer/cartographer/ground_truth/autogenerate_ground_truth_main.cc:
    -min_covered_distance (Minimum covered distance in meters before a loop
      closure is considered a candidate for autogenerated ground truth.)
      type: double default: 100
    -outlier_threshold_meters (Distance in meters beyond which constraints are
      considered outliers.) type: double default: 0.14999999999999999
    -outlier_threshold_radians (Distance in radians beyond which constraints
      are considered outliers.) type: double default: 0.02
    -output_filename (File to write the ground truth proto to.) type: string
      default: ""
    -pose_graph_filename (Proto stream file containing the pose graph used to
      generate ground truth data.) type: string default: ""

2. cartographer_compute_relations_metrics: 

This program computes the relation based metric described in:
R. Kuemmerle, B. Steder, C. Dornhege, M. Ruhnke, G. Grisetti,
C. Stachniss, and A. Kleiner, "On measuring the accuracy of SLAM
algorithms," Autonomous Robots, vol. 27, no. 4, pp. 387–407, 2009.

  Flags from /home/whu/Documents/ros/cartographer/catkin_ws/src/cartographer/cartographer/ground_truth/compute_relations_metrics_main.cc:
    -pose_graph_filename (Proto stream file containing the pose graph used to
      assess quality.) type: string default: ""
    -read_text_file_with_unix_timestamps (Enable support for the relations text
      files as in the paper. Default is to read from a GroundTruth proto file.)
      type: bool default: false
    -relations_filename (Relations file containing the ground truth.)
      type: string default: ""

处理结果示例:
➜  ~ cartographer_autogenerate_ground_truth -pose_graph_filename /home/whu/Documents/backup/data/cartographer/b2-2016-04-05-14-44-52.bag.pbstream -output_filename /home/whu/Documents/backup/data/cartographer/b2-2016-04-05-14-44-52.bag.pbstream.ground_truth
I1201 13:06:33.941937 19209 autogenerate_ground_truth_main.cc:170] Reading pose graph from '/home/whu/Documents/backup/data/cartographer/b2-2016-04-05-14-44-52.bag.pbstream'...
I1201 13:06:33.965137 19209 autogenerate_ground_truth_main.cc:178] Autogenerating ground truth relations...
I1201 13:06:33.966967 19209 autogenerate_ground_truth_main.cc:161] Generated 801 relations and ignored 4 outliers.
I1201 13:06:33.966994 19209 autogenerate_ground_truth_main.cc:182] Writing 801 relations to '/home/whu/Documents/backup/data/cartographer/b2-2016-04-05-14-44-52.bag.pbstream.ground_truth'.
➜  ~ cartographer_compute_relations_metrics -pose_graph_filename /home/whu/Documents/backup/data/cartographer/b2-2016-04-05-14-44-52.bag.pbstream -relations_filename /home/whu/Documents/backup/data/cartographer/b2-2016-04-05-14-44-52.bag.pbstream.ground_truth
I1201 13:06:35.739404 19215 compute_relations_metrics_main.cc:114] Reading pose graph from '/home/whu/Documents/backup/data/cartographer/b2-2016-04-05-14-44-52.bag.pbstream'...
I1201 13:06:35.759840 19215 compute_relations_metrics_main.cc:130] Reading ground truth from '/home/whu/Documents/backup/data/cartographer/b2-2016-04-05-14-44-52.bag.pbstream.ground_truth'...
I1201 13:06:35.760462 19215 compute_relations_metrics_main.cc:147] Result:
Abs translational error 0.02756 +/- 0.01892 m
Sqr translational error 0.00112 +/- 0.00173 m^2
Abs rotational error 0.15705 +/- 0.18832 deg
Sqr rotational error 0.06008 +/- 0.16581 deg^2
